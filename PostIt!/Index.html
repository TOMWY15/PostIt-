<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PostIt! - Multi-Device Social</title>
    <style>
        :root {
            /* Default Dark Theme (Purple/Red) */
            --bg: #0a0a0a;
            --card-bg: #151515;
            --accent-purple: #8a2be2;
            --accent-red: #ff4d4d;
            --text-main: #ffffff;
            --text-dim: #a0a0a0;
            --border: #333;
        }

        .light-theme {
            --bg: #f0f2f5;
            --card-bg: #ffffff;
            --text-main: #1a1a1a;
            --text-dim: #65676b;
            --border: #ddd;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; transition: background 0.3s, color 0.3s; }
        
        body { 
            background-color: #000; /* Outer background */
            display: flex; flex-direction: column; align-items: center; min-height: 100vh; 
        }

        /* --- DEVICE SIMULATOR CONTROLS --- */
        #device-controls {
            background: #222; padding: 10px; width: 100%; display: flex; justify-content: center; gap: 15px;
            border-bottom: 2px solid var(--accent-purple); z-index: 2000;
        }
        .dev-btn {
            background: #444; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 12px;
        }
        .dev-btn:hover { background: var(--accent-purple); }

        /* --- APP WRAPPER (The actual "Device") --- */
        #app-wrapper {
            background-color: var(--bg); color: var(--text-main);
            display: flex; height: 90vh; width: 100%; max-width: 1200px;
            margin-top: 10px; border-radius: 10px; overflow: hidden;
            box-shadow: 0 0 50px rgba(138, 43, 226, 0.2);
        }

        /* Responsive Widths */
        .mode-phone { max-width: 375px !important; }
        .mode-tablet { max-width: 768px !important; }
        .mode-pc { max-width: 1200px !important; }

        /* --- AUTH --- */
        #auth-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg); z-index: 1000; display: flex; justify-content: center; align-items: center;
        }
        .auth-card { background: var(--card-bg); padding: 30px; border-radius: 15px; border: 1px solid var(--accent-purple); width: 80%; text-align: center; }

        /* --- LAYOUT --- */
        nav { width: 25%; padding: 20px; border-right: 1px solid var(--border); display: flex; flex-direction: column; gap: 10px; }
        main { flex: 1; border-right: 1px solid var(--border); overflow-y: auto; }
        aside { width: 25%; padding: 20px; }

        @media (max-width: 600px) {
            nav span { display: none; }
            nav { width: 60px; padding: 10px; }
            aside { display: none; }
        }

        /* --- UI ELEMENTS --- */
        .logo { font-size: 22px; font-weight: bold; color: var(--accent-red); margin-bottom: 20px; }
        nav button, .post-btn {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-red));
            color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;
        }
        .theme-toggle {
            margin-top: auto; background: var(--border); color: var(--text-main); padding: 10px; border-radius: 8px; cursor: pointer; text-align: center;
        }

        /* Post Styles */
        .post-box { padding: 15px; border-bottom: 1px solid var(--border); }
        textarea { width: 100%; background: transparent; border: none; color: var(--text-main); font-size: 16px; outline: none; resize: none; }
        .post { padding: 15px; border-bottom: 1px solid var(--border); }
        .username { font-weight: bold; color: var(--accent-purple); }
        .del-btn { color: var(--accent-red); float: right; cursor: pointer; font-size: 12px; background: none; border: none; }

        .hidden { display: none !important; }
    </style>
</head>
<body class="dark-theme">

    <div id="device-controls">
        <span style="color: #aaa; margin-right: 10px; padding-top: 5px;">View Mode:</span>
        <button class="dev-btn" onclick="setDevice('phone')">ðŸ“± Phone</button>
        <button class="dev-btn" onclick="setDevice('tablet')">Tablet</button>
        <button class="dev-btn" onclick="setDevice('pc')">ðŸ’» PC</button>
    </div>

    <div id="app-wrapper" class="mode-pc">
        
        <div id="auth-overlay">
            <div class="auth-card">
                <h1 style="color: var(--accent-purple)">PostIt!</h1>
                <p style="margin-bottom: 15px">Sign in to start posting</p>
                <input type="text" id="user-in" placeholder="Username" style="width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid var(--border); background:var(--bg); color:var(--text-main);">
                <button onclick="login()" style="width:100%" class="post-btn">Join Now</button>
            </div>
        </div>

        <nav>
            <div class="logo">PostIt!</div>
            <button onclick="location.reload()">Home</button>
            <div class="theme-toggle" onclick="toggleTheme()">ðŸŒ“ Switch Theme</div>
            <div style="margin-top: 20px; font-size: 12px; color: var(--text-dim);">Logged as: <br><b id="me" style="color: var(--text-main)">-</b></div>
        </nav>

        <main>
            <div class="post-box">
                <textarea id="post-text" placeholder="What's on your mind?" rows="3"></textarea>
                <button class="post-btn" style="width: 100px; float: right;" onclick="savePost()">PostIt!</button>
                <div style="clear:both"></div>
            </div>
            <div id="feed"></div>
        </main>

        <aside>
            <h4 style="margin-bottom: 10px;">Trending</h4>
            <div style="font-size: 14px; color: var(--text-dim);">
                <p>#PostItSocial</p>
                <p>#PurpleVibe</p>
                <p>#CodingLife</p>
            </div>
        </aside>

    </div>

    <script>
        let user = localStorage.getItem('p_user');
        let posts = JSON.parse(localStorage.getItem('p_posts')) || [];

        // Theme Management
        function toggleTheme() {
            document.body.classList.toggle('light-theme');
        }

        // Device Management
        function setDevice(mode) {
            const wrapper = document.getElementById('app-wrapper');
            wrapper.className = ''; // Reset
            wrapper.classList.add('mode-' + mode);
        }

        // Auth
        if(user) hideAuth();

        function login() {
            const val = document.getElementById('user-in').value;
            if(val.length < 2) return;
            user = val;
            localStorage.setItem('p_user', user);
            hideAuth();
        }

        function hideAuth() {
            document.getElementById('auth-overlay').classList.add('hidden');
            document.getElementById('me').innerText = user;
            render();
        }

        // Logic
        function savePost() {
            const txt = document.getElementById('post-text').value;
            if(!txt) return;
            posts.unshift({ id: Date.now(), author: user, content: txt });
            localStorage.setItem('p_posts', JSON.stringify(posts));
            document.getElementById('post-text').value = '';
            render();
        }

        function deletePost(id) {
            posts = posts.filter(p => p.id !== id);
            localStorage.setItem('p_posts', JSON.stringify(posts));
            render();
        }

        function render() {
            const container = document.getElementById('feed');
            container.innerHTML = '';
            posts.forEach(p => {
                container.innerHTML += `
                    <div class="post">
                        <button class="del-btn" onclick="deletePost(${p.id})">âœ–</button>
                        <div class="username">${p.author}</div>
                        <div style="margin-top:5px;">${p.content}</div>
                    </div>
                `;
            });
        }
    </script>
</body>
</html>