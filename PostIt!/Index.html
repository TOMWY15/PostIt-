<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PostIt!</title>
<style>
:root {
    --bg: #02040a;
    --glass: rgba(15,18,30,0.85);
    --accent: #1d9bf0;
    --accent-soft: rgba(29,155,240,0.25);
    --text: #f9fafb;
    --muted: #8b93a5;
    --border: rgba(255,255,255,0.12);
    --radius: 18px;
    --font: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    --font-size: 15px;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:var(--font);}
body{
    background: radial-gradient(circle at top,#0b1020 0,#02040a 55%,#000 100%);
    color:var(--text);
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:var(--font-size);
}

/* AUTH */
#auth-view{
    position:fixed;inset:0;
    display:flex;justify-content:center;align-items:center;
    backdrop-filter:blur(20px);
    background:rgba(0,0,0,0.6);
}
.auth-card{
    width:340px;
    padding:20px;
    border-radius:20px;
    background:rgba(10,12,20,0.95);
    border:1px solid var(--border);
}
.auth-title{
    font-size:24px;
    font-weight:800;
    text-align:center;
    color:var(--accent);
}
.auth-sub{
    text-align:center;
    color:var(--muted);
    font-size:12px;
    margin-bottom:12px;
}
.auth-input{
    width:100%;
    padding:9px;
    margin-top:8px;
    border-radius:10px;
    border:1px solid var(--border);
    background:rgba(15,18,30,0.9);
    color:var(--text);
    font-size:14px;
}
.auth-btn,.auth-ghost-btn{
    width:100%;
    padding:9px;
    border-radius:999px;
    border:none;
    margin-top:10px;
    font-weight:700;
    font-size:14px;
    cursor:pointer;
}
.auth-btn{background:var(--accent);color:#fff;}
.auth-ghost-btn{background:transparent;color:var(--text);border:1px solid var(--border);}

/* APP */
.app-shell{
    width:100%;
    max-width:900px;
    display:flex;
    gap:10px;
    padding:10px;
}
.sidebar{
    width:200px;
    background:rgba(10,12,20,0.95);
    border-radius:var(--radius);
    border:1px solid var(--border);
    padding:10px;
    display:none;
    flex-direction:column;
}
.nav-item{
    padding:8px 10px;
    border-radius:999px;
    cursor:pointer;
    color:var(--muted);
    font-size:14px;
}
.nav-item.active{
    background:var(--accent-soft);
    color:var(--accent);
}
.logout-btn{
    margin-top:auto;
    padding:8px 10px;
    border-radius:999px;
    border:1px solid rgba(244,33,46,0.5);
    background:rgba(244,33,46,0.15);
    color:#f4212e;
    font-size:13px;
    cursor:pointer;
}
main{
    flex:1;
    background:rgba(10,12,20,0.95);
    border-radius:var(--radius);
    border:1px solid var(--border);
    display:none;
    overflow:hidden;
}
.main-scroll{height:100%;overflow-y:auto;}
.top-bar{
    padding:10px 12px;
    border-bottom:1px solid var(--border);
    font-size:14px;
    font-weight:700;
}

/* HOME */
.composer{
    margin:10px 12px;
    padding:10px;
    border-radius:var(--radius);
    border:1px solid var(--border);
    background:rgba(15,18,30,0.9);
}
.composer textarea{
    width:100%;
    border:none;
    background:transparent;
    color:var(--text);
    resize:none;
    outline:none;
    font-size:14px;
}
.btn-post{
    margin-top:8px;
    padding:6px 14px;
    border-radius:999px;
    border:none;
    background:var(--accent);
    color:#fff;
    font-size:13px;
    font-weight:700;
    cursor:pointer;
}
.post{
    padding:10px 12px;
    border-bottom:1px solid var(--border);
    font-size:14px;
}
.post-author{font-weight:600;}
.post-id{font-size:11px;color:var(--muted);}
.post-text{margin-top:4px;}

/* PROFILE */
.profile{
    padding:12px;
}
.profile-name{font-size:18px;font-weight:700;}
.profile-id{font-size:12px;color:var(--muted);}
.profile-desc{font-size:13px;margin-top:6px;color:var(--muted);}

/* SETTINGS */
.settings{
    padding:12px;
}
.settings h3{font-size:15px;margin-bottom:6px;}
.settings-label{font-size:12px;color:var(--muted);margin-top:6px;}
.settings-select{
    width:100%;
    padding:7px;
    border-radius:8px;
    border:1px solid var(--border);
    background:rgba(15,18,30,0.9);
    color:var(--text);
    font-size:13px;
}

/* VIEWS */
.view{display:none;}
.view.active{display:block;}
</style>
</head>
<body>

<div id="auth-view">
  <div class="auth-card">
    <div class="auth-title">PostIt!</div>
    <div class="auth-sub">Minimal stable build</div>
    <input id="login_user" class="auth-input" placeholder="Username">
    <input id="login_pass" class="auth-input" type="password" placeholder="Password">
    <button class="auth-btn" onclick="login()">Login</button>
    <button class="auth-ghost-btn" onclick="guest()">Continue as Guest</button>
  </div>
</div>

<div class="app-shell">
  <aside class="sidebar" id="sidebar">
    <div class="nav-item active" onclick="showView('home', this)">üè† Home</div>
    <div class="nav-item" onclick="showView('profile', this)">üë§ Profile</div>
    <div class="nav-item" onclick="showView('settings', this)">‚öôÔ∏è Settings</div>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </aside>

  <main id="main">
    <div class="main-scroll">
      <div class="top-bar" id="top-title">Home</div>

      <div id="view-home" class="view active">
        <div class="composer">
          <textarea id="post_text" rows="2" placeholder="What's happening?"></textarea>
          <button class="btn-post" onclick="addPost()">Post</button>
        </div>
        <div id="feed"></div>
      </div>

      <div id="view-profile" class="view">
        <div class="profile">
          <div class="profile-name" id="profile-name">Username</div>
          <div class="profile-id" id="profile-id">ID-0000</div>
          <div class="profile-desc" id="profile-desc"></div>
        </div>
      </div>

      <div id="view-settings" class="view">
        <div class="settings">
          <h3>Appearance</h3>
          <div class="settings-label">Accent color</div>
          <select class="settings-select" onchange="setAccent(this.value)">
            <option value="#1d9bf0">Blue</option>
            <option value="#f91880">Pink</option>
            <option value="#ffd700">Gold</option>
            <option value="#00ba7c">Green</option>
          </select>

          <div class="settings-label">Language</div>
          <select class="settings-select" id="lang-select" onchange="setLang(this.value)">
            <option value="en">English</option>
            <option value="it">Italiano</option>
          </select>

          <div class="settings-label">Profile description</div>
          <textarea id="settings-desc" class="settings-select" style="height:60px;resize:none;"></textarea>
          <button class="btn-post" style="margin-top:8px;" onclick="saveDesc()">Save description</button>
        </div>
      </div>

    </div>
  </main>
</div>

<script>
let currentUser = { name:"", id:"", guest:false, desc:"" };
let posts = [];

/* LOGIN / GUEST */
function login(){
  const u = document.getElementById("login_user").value.trim();
  const p = document.getElementById("login_pass").value.trim();
  if(!u || !p){ alert("Fill all fields"); return; }
  currentUser = { name:u, id:u+"#0001", guest:false, desc:"" };
  startApp();
}
function guest(){
  currentUser = { name:"Guest", id:"G#"+Math.floor(Math.random()*9999), guest:true, desc:"" };
  startApp();
}

/* START APP */
function startApp(){
  document.getElementById("auth-view").style.display = "none";
  document.getElementById("sidebar").style.display = "flex";
  document.getElementById("main").style.display = "block";
  updateProfileUI();
}

/* NAV */
function showView(name, el){
  document.querySelectorAll(".view").forEach(v=>v.classList.remove("active"));
  document.getElementById("view-"+name).classList.add("active");
  document.querySelectorAll(".nav-item").forEach(n=>n.classList.remove("active"));
  el.classList.add("active");
  document.getElementById("top-title").textContent =
    name==="home" ? "Home" : name==="profile" ? "Profile" : "Settings";
}

/* LOGOUT */
function logout(){ location.reload(); }

/* POSTS */
function addPost(){
  const text = document.getElementById("post_text").value.trim();
  if(!text) return;
  posts.push({
    id: Date.now(),
    author: currentUser.name || "User",
    author_id: currentUser.id || "ID-0000",
    text
  });
  document.getElementById("post_text").value = "";
  renderFeed();
}
function renderFeed(){
  const feed = document.getElementById("feed");
  feed.innerHTML = "";
  posts.slice().reverse().forEach(p=>{
    const div = document.createElement("div");
    div.className = "post";
    div.innerHTML = `
      <div class="post-author">@${escapeHtml(p.author)}</div>
      <div class="post-id">${escapeHtml(p.author_id)}</div>
      <div class="post-text">${escapeHtml(p.text)}</div>
    `;
    feed.appendChild(div);
  });
}

/* PROFILE */
function updateProfileUI(){
  document.getElementById("profile-name").textContent = currentUser.name;
  document.getElementById("profile-id").textContent = currentUser.id;
  document.getElementById("profile-desc").textContent = currentUser.desc || "";
  document.getElementById("settings-desc").value = currentUser.desc || "";
}
function saveDesc(){
  const d = document.getElementById("settings-desc").value.trim();
  currentUser.desc = d;
  updateProfileUI();
}

/* SETTINGS */
function setAccent(c){
  document.documentElement.style.setProperty("--accent", c);
  document.documentElement.style.setProperty("--accent-soft", c+"40");
}
function setLang(lang){
  alert("Language set to: " + lang + " (mock)");
}

/* UTILS */
function escapeHtml(str){
  return String(str).replace(/[&<>"']/g, m=>({
    "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"
  }[m]));
}
</script>
</body>
</html>
